<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta name="Heritier" content="QT Exam" />
    <meta name="generator" content="Hugo 0.84.0" />
    <title>Index</title>

    <!-- Bootstrap core CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
      rel="stylesheet"
    />

    <link
      href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css"
      rel="stylesheet"
    />

    <link
      href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.dataTables.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.datatables.net/buttons/1.5.1/css/buttons.dataTables.min.css"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <!-- Custom styles for this template -->
    <link href="dist/css/custom.css" rel="stylesheet" />
    <!-- Datepicker  -->

    <link
      rel="stylesheet"
      href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css"
    />
    <link rel="stylesheet" href="/resources/demos/style.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>

    <link href="dist/css/sweetalert.css" rel="stylesheet" />
    <link href="dist/css/dataTables.jqueryui.min.css" rel="stylesheet" />
    <link href="dist/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="dist/css/responsive.dataTables.min.css" rel="stylesheet" />

    <link
      rel="stylesheet"
      type="text/css"
      href="http://www.shieldui.com/shared/components/latest/css/light/all.min.css"
    />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="#">Tasks Managment</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="#"
              ><i class="fa fa-user"></i> <span class="user-u"></span
            ></a>
          </li>
        </ul>
      </div>
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="/logout"
            ><i class="fa fa-lock"></i>Log out</a
          >
        </li>
      </ul>
    </nav>

    <div class="container">
      <div class="row">
        <div class="col-lg-12 py-md-5">
          <button
            type="button"
            class="btn btn-default"
            data-toggle="modal"
            data-target=".bd-example-modal-lg"
          >
            <i class="fa fa-plus"></i> Add New Task
          </button>
          <button
            type="button"
            class="btn btn-default"
            data-toggle="modal"
            data-target="#exampleModal"
          >
            <i class="fa fa-file"></i> Add Project
          </button>
          <button id="exportButton" class="btn btn-danger clearfix">
            <span class="fa fa-file-excel-o"></span> Export
          </button>
        </div>
        <div class="col-lg-12">
          <h3>List Of Tasks</h3>
          <table
            class="table table-striped table-hover table-bordered display nowrap"
            id="table"
          >
            <thead>
              <tr>
                <th>#</th>
                <th>Task_Name</th>
                <th>Start_Date</th>
                <th>End_Date</th>
                <th>Assignees</th>
                <th>Projects</th>
                <th>Description</th>
                <th>Priority</th>
              </tr>
            </thead>
          </table>
        </div>
      </div>
    </div>

    <!-- Large modal -->

    <div
      class="modal fade bd-example-modal-lg"
      tabindex="-1"
      role="dialog"
      aria-labelledby="myLargeModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="longid">Create task</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>close
            </button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-lg-12">
                Nane:
                <input
                  type="text"
                  id="title"
                  placeholder="Task name"
                  class="form-control"
                />
              </div>

              <div class="col-lg-6">
                Start Date:
                <input type="text" id="startDate" class="form-control" />
              </div>
              <div class="col-lg-6">
                End Date:
                <input type="text" id="endDate" class="form-control" />
              </div>

              <div class="col-lg-12">
                <h4>Assignee</h4>
                <select
                  class="assignee form-control"
                  name="assignees[]"
                  multiple="multiple"
                >
                  <option value="1">Assignee 1</option>
                  <option value="2">Assignee 2</option>
                  <option value="3">Assignee 3</option>
                  <option value="4">Assignee 4</option>
                </select>
              </div>

              <div class="col-lg-12">
                <h4>Projects</h4>
                <select
                  aria-placeholder="Project Name"
                  class="project form-control"
                  name="projects[]"
                  multiple="multiple"
                >
                  <option value="1">Project 1</option>
                  <option value="2">Project 2</option>
                  <option value="3">Project 3</option>
                  <option value="4">Project 4</option>
                </select>
              </div>
              <div class="col-lg-12">
                <h4>Description</h4>
                <textarea
                  maxlength="150"
                  placeholder="Add more detail to this task"
                  class="form-control"
                  id="description"
                  cols="4"
                  rows="3"
                ></textarea>
                <span id="descriptiont">0</span> / <span> 150</span>
              </div>
              <br />
              <div class="col-lg-12">
                <h4>Priority</h4>
                <span class="low">
                  <input
                    type="radio"
                    id="priority1"
                    name="priority"
                    value="LOW"
                  />
                  <label for="priority1">Low</label>
                </span>
                <span class="normal">
                  <input
                    type="radio"
                    id="priority2"
                    name="priority"
                    value="NORMAL"
                  />
                  <label for="priority2">Normal</label>
                </span>
                <span class="high">
                  <input
                    type="radio"
                    id="priority3"
                    name="priority"
                    value="HIGH"
                  />
                  <label for="priority3">High</label>
                </span>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <input type="file" id="attachment" />
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Cancel
            </button>
            <button type="button" class="btn btn-primary submit">Submit</button>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal fade"
      id="exampleModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">New Project</h5>
            <button
              type="button"
              class="close"
              data-dismiss="modal"
              aria-label="Close"
            >
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-lg-12">
                Project Nane:
                <input
                  type="text"
                  id="pName"
                  placeholder="Fill name"
                  class="form-control"
                />
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
            <button type="button" class="btn btn-primary saveProject">
              Submit
            </button>
          </div>
        </div>
      </div>
    </div>
    <!-- bootstrap v5 -->
    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>

    <script src="https://cdn.datatables.net/buttons/1.5.1/js/dataTables.buttons.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.8/js/select2.min.js"
      defer
    ></script>
    <!-- Date Picker  -->
    <script src="dist/js/jquery.min.js"></script>
    <script src="dist/js/google-date-ui.js"></script>
    <!-- Sweet alert -->
    <script src="dist/js/sweetalert.mini.js"></script>
    <script src="dist/js/jquery.dataTables.min.js"></script>
    <!-- <script src="dist/js/dataTables.jqueryui.min.js"></script> -->

    <script
      type="text/javascript"
      src="http://www.shieldui.com/shared/components/latest/js/shieldui-all.min.js"
    ></script>
    <script
      type="text/javascript"
      src="http://www.shieldui.com/shared/components/latest/js/jszip.min.js"
    ></script>

    <script src="dist/js/custom.js"></script>
    <script>
      $(document).ready(function () {
        $(".assignee").select2({ width: "100%" });
        $(".project").select2({ width: "100%" });
        $("#table").DataTable({
          buttons: ["copy", "csv", "excel", "pdf", "print"],
        });
      });
    </script>

    <script type="text/javascript">
      $(function ($) {
        $("#exportButton").click(function () {
          // parse the HTML table element having an id=exportTable
          var dataSource = shield.DataSource.create({
            data: "#table",
            schema: {
              type: "table",
              fields: {
                Assignees: { type: String },
                Description: { type: String },
                Start_Date: { type: Date },
                End_Date: { type: Date },
                Priority: { type: String },
                Projects: { type: String },
                Task_Name: { type: String },
              },
            },
          });

          // when parsing is done, export the data to Excel
          dataSource.read().then(function (data) {
            new shield.exp.OOXMLWorkbook({
              author: "PrepBootstrap",
              worksheets: [
                {
                  name: "PrepBootstrap Table",
                  rows: [
                    {
                      cells: [
                        {
                          style: {
                            bold: true,
                          },
                          type: String,
                          value: "Task_Name",
                        },
                        {
                          style: {
                            bold: true,
                          },
                          type: String,
                          value: "Assignees",
                        },
                        {
                          style: {
                            bold: true,
                          },
                          type: String,
                          value: "Start_Date",
                        },
                        {
                          style: {
                            bold: true,
                          },
                          type: String,
                          value: "End_Date",
                        },
                        {
                          style: {
                            bold: true,
                          },
                          type: String,
                          value: "Projects",
                        },
                        {
                          style: {
                            bold: true,
                          },
                          type: String,
                          value: "Priority",
                        },
                        {
                          style: {
                            bold: true,
                          },
                          type: String,
                          value: "Description",
                        },
                      ],
                    },
                  ].concat(
                    $.map(data, function (item) {
                      return {
                        cells: [
                          { type: String, value: item.Task_Name },
                          { type: String, value: item.Assignees },
                          { type: String, value: item.Start_Date },
                          { type: String, value: item.End_Date },
                          { type: String, value: item.Projects },
                          { type: String, value: item.Priority },
                          { type: String, value: item.Description },
                        ],
                      };
                    })
                  ),
                },
              ],
            }).saveAs({
              fileName: "PrepBootstrapExcel",
            });
          });
        });
      });
    </script>

    <style>
      #exportButton {
        border-radius: 0;
      }
    </style>
  </body>
</html>
